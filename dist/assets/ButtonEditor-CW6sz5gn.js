import{r as u,j as e,L as b,y as h}from"./index-Dm6IITds.js";import{I as c}from"./InputBox-FuFfNva1.js";import{D as p}from"./DropdownBox-BhWCL02D.js";import{S as y}from"./Selector-qfWk41Mc.js";import{C as x}from"./ColorPickerBox-BZzQtItO.js";import{a as N}from"./index-BMWbIqd1.js";import{T as B,a as E}from"./Tabs-CNePZtnl.js";import{A as S,a as C}from"./arrow-right-Dif753kM.js";import{A}from"./align-center-CTJPHlRF.js";import"./iconBase-CPV39RTW.js";import"./NoopTransition-DCrOcCUI.js";const U=({onChange:n,changedData:d,modalComponent:V})=>{const[i,m]=u.useState([]);u.useEffect(()=>{Array.isArray(d==null?void 0:d.button)?m(d.button):m([])},[d]);const l=(t,s,r)=>{const o=[...i];o[t]={...o[t],[s]:r},m(o),n&&n(o)},f=()=>{if(i.length>=3){h.error("You can only add up to 3 buttons.");return}const t={url:"",content:"Click here",variation:"btn-primary",size:"md",position:"left",startEndorment:"",endEndorment:"",extraClass:"py-3 fw-semibold fs-5",btnTextColor:"",action:"",consent_statement:""},s=[...i,t];m(s),n&&n(s)},j=t=>{const s=i.filter((r,o)=>o!==t);m(s),n&&n(s)},v=(t,s)=>{var r,o;return e.jsxs("div",{className:"",children:[e.jsx("div",{className:"mb-3",children:e.jsx(c,{label:"Text",value:t.content,setValue:a=>l(s,"content",a),placeholder:"Set text"})}),console.log("btn?.content?.length",(r=t==null?void 0:t.content)==null?void 0:r.length),e.jsx("div",{className:"mb-3",children:e.jsx(x,{label:"Variation",data:{"btn-primary":"#0d6efd","btn-secondary":"#6c757d","btn-success":"#198754","btn-danger":"#dc3545","btn-warning":"#ffc107","btn-info":"#0dcaf0","btn-light":"#f8f9fa","btn-dark":"#212529","btn-link":"#0d6efd"},value:t==null?void 0:t.variation,setValue:a=>l(s,"variation",a)})}),e.jsx("div",{className:"mb-3",children:e.jsx(x,{label:"Button Text Color",disabled:!!((o=t.variation)!=null&&o.startsWith("btn-")),data:{primary:"#0000FF",secondary:"#FF0000",dark:"#000000",light:"#FFFFFF"},value:t.btnTextColor,setValue:a=>l(s,"btnTextColor",a)})}),e.jsx("div",{className:"mb-3",children:e.jsx(c,{label:"Button consent statement",value:t.consent_statement,setValue:a=>l(s,"consent_statement",a),placeholder:"Set consent statement"})}),e.jsx("div",{className:"mb-3",children:e.jsx(p,{label:"Size",value:t.size,setValue:a=>l(s,"size",a),data:["sm","md","lg","w-100","value in px"]})}),e.jsx("div",{className:"mb-3",children:e.jsx(y,{label:"Button Position",data:[{key:"right",label:"Right",icon:S},{key:"left",label:"Left",icon:C},{key:"center",label:"Center",icon:A}],value:t.position,onSelect:a=>l(s,"position",a)})}),e.jsx("div",{className:"mb-3",children:e.jsx(c,{label:"URL",value:t.url,setValue:a=>l(s,"url",a),placeholder:"Set URL"})}),e.jsx("div",{className:"mb-3",children:e.jsx(p,{label:"Action",value:t.action,setValue:a=>l(s,"action",a),data:["internal_redirect","external_redirect"]})}),e.jsx("div",{className:"mb-3",children:e.jsx(c,{label:"Start Endorment",value:t.startEndorment,setValue:a=>l(s,"startEndorment",a),placeholder:"Set svg or icon"})}),e.jsx("div",{className:"mb-3",children:e.jsx(c,{label:"End Endorment",value:t.endEndorment,setValue:a=>l(s,"endEndorment",a),placeholder:"Set svg or icon"})}),e.jsx("div",{className:"mb-3",children:e.jsx(c,{label:"Extra Class",isTextarea:!0,value:t.extraClass,setValue:a=>l(s,"extraClass",a),placeholder:"Set extra class"})})]})};return e.jsxs("div",{className:" p-3 bg-white rounded shadow-sm ",children:[e.jsxs("div",{className:"position-relative",children:[e.jsx("p",{className:"position-absolute top-0 end-0",onClick:f,size:30,style:{cursor:"pointer",color:"#0d6efd",zIndex:1},children:"Add +"}),e.jsx(B,{defaultActiveKey:"0",id:"button-tabs",className:"mb-3",children:i&&i.map((t,s)=>e.jsx(E,{eventKey:s.toString(),title:e.jsxs("span",{className:"d-inline-flex align-items-center gap-1",children:[e.jsxs("span",{children:["Button ",s+1]}),e.jsx("span",{onClick:r=>{r.stopPropagation(),j(s)},style:{cursor:"pointer",color:"#dc3545",display:"inline-flex",alignItems:"center"},title:"Delete Button",children:e.jsx(N,{size:16})})]}),children:v(t,s)},s))})]}),e.jsx(b,{position:"top-center",autoClose:2e3})]})};export{U as default};

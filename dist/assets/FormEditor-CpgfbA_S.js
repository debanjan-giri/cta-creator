import{r as p,j as e,L as j,y as f}from"./index-Dm6IITds.js";import{D as n}from"./DropdownBox-BhWCL02D.js";import{I as c}from"./InputBox-FuFfNva1.js";import{a as v}from"./index-BMWbIqd1.js";import{T as h,a as y}from"./Tabs-CNePZtnl.js";import"./iconBase-CPV39RTW.js";import"./NoopTransition-DCrOcCUI.js";const T=({onChange:t,changedData:i})=>{const[d,m]=p.useState([]);p.useEffect(()=>{Array.isArray(i==null?void 0:i.formJson)?m(i.formJson):m([])},[i]);const r=(a,s,l)=>{const o=[...d];o[a]={...o[a],[s]:l},m(o),t&&t(o)},u=()=>{if(d.length>=3){f.error("You can only add up to 3 forms.");return}const a={label:"",field_name:"",type:"text",is_mandatory:"0",options:"",extraClass:""},s=[...d,a];m(s),t&&t(s)},x=a=>{const s=d.filter((l,o)=>o!==a);m(s),t&&t(s)},b=(a,s)=>e.jsxs("div",{className:"p-3 bg-white rounded shadow-sm ",children:[e.jsx("div",{className:"mb-3",children:e.jsx(c,{label:"Label",placeholder:"Enter Label",value:a.label,setValue:l=>r(s,"label",l)})}),e.jsx("div",{className:"mb-3",children:e.jsx(c,{label:"Field Name",placeholder:"Enter Field Name",value:a.field_name,setValue:l=>r(s,"field_name",l)})}),e.jsx("div",{className:"mb-3",children:e.jsx(n,{label:"Field Type",value:a.type,setValue:l=>r(s,"type",l),data:["text","number","textarea","radio","checkbox","dropdown"]})}),e.jsx("div",{className:"mb-3",children:e.jsx(n,{label:"Options",value:a.options,setValue:l=>r(s,"options",l),data:["male","female"]})}),e.jsx("div",{className:"mb-3",children:e.jsx(n,{label:"Is Mandatory",value:a.is_mandatory,setValue:l=>r(s,"is_mandatory",l),data:["0","1"]})}),e.jsx("div",{className:"mb-3",children:e.jsx(c,{label:"Extra Class",isTextarea:!0,placeholder:"Enter Extra Class",value:a.extraClass,setValue:l=>r(s,"extraClass",l)})})]},s);return e.jsxs("div",{className:"mt-3 p-3 bg-white rounded shadow-sm",children:[e.jsxs("div",{className:"position-relative",children:[e.jsx("p",{className:"position-absolute top-0 end-0",onClick:u,style:{cursor:"pointer",color:"#0d6efd",zIndex:1},children:"Add +"}),e.jsx(h,{defaultActiveKey:"0",id:"form-tabs",className:"mb-3",children:d.map((a,s)=>e.jsx(y,{eventKey:s.toString(),title:e.jsxs("span",{className:"d-inline-flex align-items-center gap-1",children:[e.jsxs("span",{children:["Filed ",s+1]}),e.jsx("span",{onClick:l=>{l.stopPropagation(),x(s)},style:{cursor:"pointer",color:"#dc3545"},title:"Delete Form",children:e.jsx(v,{size:16})})]}),children:b(a,s)},s))})]}),e.jsx(j,{position:"top-center",autoClose:2e3})]})};export{T as default};
